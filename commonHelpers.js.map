{"version":3,"file":"commonHelpers.js","sources":["../src/js/mobile-menu.js"],"sourcesContent":["\"use strict\";\n\nexport default (() => {\n  const openMenuBtn = document.querySelector(\".menu-btn\");\n  const closeMenuBtn = document.querySelector(\".close-btn\");\n  const mobMenu = document.querySelector(\".mobile-menu\");\n\n  if (!openMenuBtn || !closeMenuBtn || !mobMenu) {\n    console.warn(\"Mobile menu elements not found\");\n    return;\n  }\n\n  const preventTouchMove = e => {\n    e.preventDefault();\n  };\n\n  const addTouchMoveListener = () => {\n    document.body.addEventListener(\"touchmove\", preventTouchMove, {\n      passive: false,\n    });\n  };\n\n  const removeTouchMoveListener = () => {\n    document.body.removeEventListener(\"touchmove\", preventTouchMove, {\n      passive: false,\n    });\n  };\n\n  const toggleMenu = () => {\n    const isMenuOpen = openMenuBtn.getAttribute(\"aria-expanded\") === \"true\";\n    openMenuBtn.setAttribute(\"aria-expanded\", !isMenuOpen);\n    mobMenu.classList.toggle(\"is-open\");\n\n    document.body.style.overflow = isMenuOpen ? \"\" : \"hidden\";\n    mobMenu.style.overflow = \"auto\";\n\n    if (!isMenuOpen) {\n      addTouchMoveListener();\n    } else {\n      removeTouchMoveListener();\n    }\n\n    const menuAnchors = mobMenu.querySelectorAll(\"a.mobile-nav-link\");\n    menuAnchors.forEach(anchor => {\n      if (!isMenuOpen) {\n        anchor.addEventListener(\"click\", toggleMenu);\n      } else {\n        anchor.removeEventListener(\"click\", toggleMenu);\n      }\n    });\n  };\n\n  openMenuBtn.addEventListener(\"click\", toggleMenu);\n  closeMenuBtn.addEventListener(\"click\", toggleMenu);\n\n  const mediaQuery = window.matchMedia(\"(max-width: 767px)\");\n  const queryHandler = e => {\n    if (!e.matches && mobMenu.classList.contains(\"is-open\")) {\n      toggleMenu();\n    }\n  };\n  mediaQuery.addEventListener(\"change\", queryHandler);\n\n  if (mobMenu.classList.contains(\"is-open\")) {\n    addTouchMoveListener();\n  } else {\n    removeTouchMoveListener();\n  }\n})();"],"names":["openMenuBtn","closeMenuBtn","mobMenu","preventTouchMove","e","addTouchMoveListener","removeTouchMoveListener","toggleMenu","isMenuOpen","anchor","mediaQuery","queryHandler"],"mappings":"usBAEgB,IAAM,CACpB,MAAMA,EAAc,SAAS,cAAc,WAAW,EAChDC,EAAe,SAAS,cAAc,YAAY,EAClDC,EAAU,SAAS,cAAc,cAAc,EAErD,GAAI,CAACF,GAAe,CAACC,GAAgB,CAACC,EAAS,CAC7C,QAAQ,KAAK,gCAAgC,EAC7C,MACD,CAED,MAAMC,EAAmBC,GAAK,CAC5BA,EAAE,eAAc,CACpB,EAEQC,EAAuB,IAAM,CACjC,SAAS,KAAK,iBAAiB,YAAaF,EAAkB,CAC5D,QAAS,EACf,CAAK,CACL,EAEQG,EAA0B,IAAM,CACpC,SAAS,KAAK,oBAAoB,YAAaH,EAAkB,CAC/D,QAAS,EACf,CAAK,CACL,EAEQI,EAAa,IAAM,CACvB,MAAMC,EAAaR,EAAY,aAAa,eAAe,IAAM,OACjEA,EAAY,aAAa,gBAAiB,CAACQ,CAAU,EACrDN,EAAQ,UAAU,OAAO,SAAS,EAElC,SAAS,KAAK,MAAM,SAAWM,EAAa,GAAK,SACjDN,EAAQ,MAAM,SAAW,OAEpBM,EAGHF,IAFAD,IAKkBH,EAAQ,iBAAiB,mBAAmB,EACpD,QAAQO,GAAU,CACvBD,EAGHC,EAAO,oBAAoB,QAASF,CAAU,EAF9CE,EAAO,iBAAiB,QAASF,CAAU,CAInD,CAAK,CACL,EAEEP,EAAY,iBAAiB,QAASO,CAAU,EAChDN,EAAa,iBAAiB,QAASM,CAAU,EAEjD,MAAMG,EAAa,OAAO,WAAW,oBAAoB,EACnDC,EAAeP,GAAK,CACpB,CAACA,EAAE,SAAWF,EAAQ,UAAU,SAAS,SAAS,GACpDK,GAEN,EACEG,EAAW,iBAAiB,SAAUC,CAAY,EAE9CT,EAAQ,UAAU,SAAS,SAAS,EACtCG,IAEAC,GAEJ,GAAI"}